<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>js11章</title>
</head>
<body>
  <script>
    // 非同期処理

    // console.log("スタート");

    // setTimeout(() => {
      // console.log("処理が完了");
    // },2000) //2秒(2000ミリ秒)の待ち時間を設定
    
    // console.log("終了");

    // Promise処理の作り方
    // const promise = new Promise(() => {
      // setTimeout(() => {
        // console.log("処理が完了");
      // },2000)
    // })

    // const promise = new Promise(resolve => {
      // setTimeout(() => {
        // resolve("処理が完了");
      // },2000)
    // });

    // then()を使って完了通知を受け取る
    // 引数resultには渡された文字列が格納されている
    // promise.then(result => console.log(result));

    // 複数のPromiseをつなげる

    // setTimeout()で複数の非同期処理をつなげる
    // setTimeout(() => {
      // console.log("1つ目の処理が完了");

      // setTimeout(() => {
        // console.log("２つ目の処理が完了");

        // setTimeout(() => {
          // console.log("３つ目の処理が完了");
        // }, 2000)
      // }, 2000)
    // }, 2000)

    // Promiseを使って上と同じものを作ってみる

    // 1つ目のPromise処理
    // const promise1 = () => {
      // return new Promise(resolve => {
        // setTimeout(() => {
          // resolve("1つ目の処理が完了");
        // }, 2000)
      // })
    // }
    // .then(data => {
      // console.log(data);
      // return promise2; //次に実行する非同期処理を指定
    // })

    // // 2つ目のPromise処理
    // const promise2 = () => {
    //   return new Promise(resolve => {
    //     setTimeout(() => {
    //       resolve("2つ目の処理が完了");
    //     }, 2000)
    //   })
    // }
    // .then(data => {
    //   console.log(data);
    //   return promise3(); //次に実行する非同期処理を指定
    // })

    //     // ３つ目のPromise処理
    //     const promise3 = () => {
    //   return new Promise(resolve => {
    //     setTimeout(() => {
    //       resolve("３つ目の処理が完了");
    //     }, 2000)
    //   })
    // }
    // .then(data => console.log(data));

    //Ajaxプログラムの作り方
     const url =  'https://qiita.com/api/v2/tags/javascript/items';

     fetch(url)
     .then(data => data.json()) //JSONデータとして取得する
     .then(data => console.log(data)) 
  </script>
</body>
</html>